[gd_scene load_steps=10 format=3 uid="uid://bqrjceognhesd"]

[ext_resource type="PackedScene" uid="uid://rbitugoxahdo" path="res://components/player/player.tscn" id="1_x286i"]
[ext_resource type="Script" path="res://components/monster/monster_target.gd" id="2_68pxc"]
[ext_resource type="VoxelGIData" uid="uid://dwi8utbwnw1ni" path="res://components/res/world.VoxelGI_data.res" id="2_vl24i"]
[ext_resource type="PackedScene" uid="uid://cxqc17ilx5uye" path="res://components/monster/monster.tscn" id="3_dpm3d"]
[ext_resource type="PackedScene" uid="uid://da4l7uyakik87" path="res://components/world/grid_world.tscn" id="3_sjasp"]
[ext_resource type="AudioStream" uid="uid://cuaac4l3qlcxy" path="res://assets/sounds/deep-beat-43045.ogg" id="6_w2h0o"]

[sub_resource type="Environment" id="Environment_ta6rp"]
background_mode = 1
ambient_light_source = 1
reflected_light_source = 1
ssr_enabled = true
ssao_enabled = true
ssil_enabled = true
sdfgi_enabled = true
sdfgi_use_occlusion = true
glow_enabled = true
fog_enabled = true
fog_mode = 1
fog_light_color = Color(0, 0, 0, 1)
fog_density = 1.0
volumetric_fog_enabled = true

[sub_resource type="NavigationMesh" id="NavigationMesh_dpm3d"]
vertices = PackedVector3Array(2.3400002, 0.29999995, -16.55, 2.4099998, 0.29999995, -16.4, 2.5500002, 0.29999995, -16.33, 3.3000002, 0.29999995, -15.96, 3.3000002, 0.29999995, -19.29, 2.71, 0.29999995, -16.01, 2.71, 0.29999995, -15.950001, 2.0199995, 0.29999995, -16.71, 0.71000004, 0.29999995, -19.29, 0.71000004, 0.29999995, -16.71, 2.71, 0.29999995, -8.04, 3.3000002, 0.29999995, -8.030001, 2.5500002, 0.29999995, -7.66, 2.3999996, 0.29999995, -7.58, 2.3400002, 0.29999995, -7.45, 2.71, 0.29999995, -7.9800005, 1.9499998, 0.29999995, -7.29, 1.9499998, 0.29999995, -6.700001, 2.0199995, 0.29999995, -6.700001, 2.0199995, 0.29999995, -7.29, 2.3400002, 0.29999995, -6.54, 2.5100002, 0.29999995, -6.21, 3.3000002, 0.29999995, -6.16, 2.5100002, 0.29999995, -6.1500006, -2.54, 0.29999995, -6.34, -2.4, 0.29999995, -6.4000006, -2.3300002, 0.29999995, -6.54, -3.29, 0.29999995, -6, -2.71, 0.29999995, -5.9700003, -2.71, 0.29999995, -6.01, -2.01, 0.29999995, -6.700001, -1.9500003, 0.29999995, -6.700001, -1.96, 0.29999995, -7.29, -3.29, 0.29999995, -7.29, 2.5100002, 0.29999995, -6.04, 3.3000002, 0.29999995, -6.0300007, 2.5100002, 0.29999995, -4.01, 2.5100002, 0.29999995, -3.9500008, 3.3000002, 0.29999995, -3.960001, 2.5100002, 0.29999995, -5.9800005, 1.9499998, 0.29999995, -5.4900007, 1.9499998, 0.29999995, -4.5, 2.0199995, 0.29999995, -4.5, 2.0199995, 0.29999995, -5.4900007, 2.3400002, 0.29999995, -5.6500006, 2.3400002, 0.29999995, -4.34, -3.3, 0.29999995, -4.05, -2.71, 0.29999995, -4.05, 1.79, 0.29999995, -4.5, 1.8499999, 0.29999995, -4.5, 1.8399997, 0.29999995, -5.4900007, 1.4699998, 0.29999995, -4.34, 1.2999997, 0.29999995, -3.9899998, -1.4900002, 0.29999995, -5.4900007, -1.4900002, 0.29999995, -4, -3.46, 0.29999995, -3.6599998, -3.6000001, 0.29999995, -3.5900002, -3.67, 0.29999995, -3.4500008, -3.99, 0.29999995, -3.290001, -4.06, 0.29999995, -3.290001, -4.05, 0.29999995, -2.7000008, -3.98, 0.29999995, -2.7000008, -2.17, 0.29999995, -2.5, -2.16, 0.29999995, -3.4899998, -2.22, 0.29999995, -3.4899998, -2.71, 0.29999995, -3.9799995, -3.3, 0.29999995, -3.9799995, -3.66, 0.29999995, -2.540001, -3.64, 0.29999995, -2.5, -2.5500002, 0.29999995, -3.6599998, -1.9900002, 0.29999995, -3.4899998, -2.0600002, 0.29999995, -3.4899998, -2.0500002, 0.29999995, -2.5, -1.98, 0.29999995, -2.5, -1.6700001, 0.29999995, -3.6499996, -1.6600003, 0.29999995, -2.3400002, -1.4900002, 0.29999995, -1.9899998, 1.2999997, 0.29999995, -2, 2.5100002, 0.29999995, -2.5, 3.3000002, 0.29999995, -2.5, -5.3, 0.29999995, -3.290001, -5.3, 0.29999995, -2.7000008, 1.6699996, 0.29999995, -1.4500008, 1.5899997, 0.29999995, -1.6000004, 1.46, 0.29999995, -1.6599998, 1.5, 0.29999995, -0.010000229, 1.6699996, 0.29999995, -0.34000015, 1.9899998, 0.29999995, 1.2999992, 2.0599995, 0.29999995, 1.2999992, 2.0599995, 0.29999995, 0.7099991, 1.9899998, 0.29999995, 0.7099991, -1.4900002, 0.29999995, -1.7900009, -1.9900002, 0.29999995, -1.2900009, -2.0600002, 0.29999995, -1.2900009, -2.0500002, 0.29999995, -0.5, -1.98, 0.29999995, -0.5, 1.6499996, 0.29999995, 1.5, 1.6599998, 0.29999995, 0.539999, 1.5, 0.29999995, 0.21999931, -1.4900002, 0.29999995, -0.010000229, -1.4900002, 0.29999995, 1.5, 1.9899998, 0.29999995, -0.5, 2.0599995, 0.29999995, -0.5, 2.0599995, 0.29999995, -1.2900009, 1.9899998, 0.29999995, -1.2900009, 1.6699996, 0.29999995, 1.4599991, -1.6500001, 0.29999995, -1.4700012, -1.6600003, 0.29999995, -0.34000015, -5.3, 0.29999995, -0.060001373, -4.7, 0.29999995, -0.060001373, -4.7, 0.29999995, -1.2900009, -5.3, 0.29999995, -1.2900009, -2.21, 0.29999995, -0.5, -2.15, 0.29999995, -0.5, -2.16, 0.29999995, -1.2900009, -3.49, 0.29999995, 0, -2.7, 0.29999995, 0.010000229, -2.53, 0.29999995, -0.34000015, -3.49, 0.29999995, -1.2900009, 3.9899998, 0.29999995, -0.70000076, 4.04, 0.29999995, -0.69000053, 4.04, 0.29999995, -1.2900009, 3.67, 0.29999995, -0.5400009, 3.6499996, 0.29999995, -0.5, 5.3, 0.29999995, -0.69000053, 5.3, 0.29999995, -1.2900009, -4.7, 0.29999995, 0.020000458, -5.3, 0.29999995, 2.0699997, -4.5, 0.29999995, 2.0699997, -4.5, 0.29999995, 1.9899998, -4.53, 0.29999995, 0.35000038, -4.34, 0.29999995, 1.6700001, -3.99, 0.29999995, 1.5, -4, 0.29999995, 0.5100002, -4.21, 0.29999995, 0.5100002, -3.66, 0.29999995, 0.35000038, -2.7, 0.29999995, 1.5, 3.3000002, 0.29999995, 1.2999992, 3.3000002, 0.29999995, 0.7099991, -5.3, 0.29999995, 2.1399994, -4.5, 0.29999995, 2.1399994, -4.01, 0.29999995, 3.2999992, -3.94, 0.29999995, 3.2999992, -3.94, 0.29999995, 2.709999, -4.01, 0.29999995, 2.709999, -5.3, 0.29999995, 3.869999, -4.5, 0.29999995, 3.789999, -4.34, 0.29999995, 3.4699993, -4.34, 0.29999995, 2.539999, -4.5, 0.29999995, 2.2199993, -4.5, 0.29999995, 3.869999, -2.0400002, 0.29999995, 3.2999992, -2.03, 0.29999995, 2.709999, -1.98, 0.29999995, 3.2999992, -0.010000229, 0.29999995, 3.5, 0.049999714, 0.29999995, 3.5, 0.03999996, 0.29999995, 2.709999, -1.6500001, 0.29999995, 3.4699993, -0.34000015, 0.29999995, 3.67, -1.4900002, 0.29999995, 4.039999, -0.5, 0.29999995, 4.049999, -0.5, 0.29999995, 3.9899998, -1.4900002, 0.29999995, 3.789999, 1.5, 0.29999995, 3.5, 1.5, 0.29999995, 2.709999, 2.71, 0.29999995, 3.9499989, 3.3000002, 0.29999995, 3.9499989, 3.3000002, 0.29999995, 2.709999, 2.71, 0.29999995, 2.709999, -5.3, 0.29999995, 3.9399986, -4.5, 0.29999995, 3.9399986, -3.96, 0.29999995, 5.299999, -3.95, 0.29999995, 4.51, -4.01, 0.29999995, 4.51, -4.5, 0.29999995, 4.0199986, -4.34, 0.29999995, 4.34, -5.3, 0.29999995, 5.299999, 2.5500002, 0.29999995, 4.34, 2.3999996, 0.29999995, 4.42, 2.3400002, 0.29999995, 4.549999, 3.67, 0.29999995, 4.549999, 3.5900002, 0.29999995, 4.3999996, 3.46, 0.29999995, 4.34, 2.0199995, 0.29999995, 4.709999, 1.96, 0.29999995, 4.709999, 1.9699998, 0.29999995, 5.299999, 4.04, 0.29999995, 5.299999, 4.05, 0.29999995, 4.709999, 3.9899998, 0.29999995, 4.709999, 3.3000002, 0.29999995, 4.0199986, 2.71, 0.29999995, 4.0199986, -1.4900002, 0.29999995, 4.17, -0.5, 0.29999995, 4.16, 0.03999996, 0.29999995, 5.299999, 0.049999714, 0.29999995, 4.709999, -0.010000229, 0.29999995, 4.709999, -0.34000015, 0.29999995, 4.539999, -1.4900002, 0.29999995, 5.299999, -0.5, 0.29999995, 4.2199993, -2.7, 0.29999995, 5.299999, -2.7, 0.29999995, 4.51, 5.3, 0.29999995, 5.299999, 5.3, 0.29999995, 4.709999)
polygons = [PackedInt32Array(1, 0, 2), PackedInt32Array(2, 0, 3), PackedInt32Array(3, 0, 4), PackedInt32Array(3, 6, 5), PackedInt32Array(3, 5, 2), PackedInt32Array(0, 7, 4), PackedInt32Array(9, 8, 7), PackedInt32Array(7, 8, 4), PackedInt32Array(6, 3, 10), PackedInt32Array(10, 3, 11), PackedInt32Array(14, 13, 12), PackedInt32Array(15, 10, 11), PackedInt32Array(19, 18, 16), PackedInt32Array(16, 18, 17), PackedInt32Array(21, 20, 22), PackedInt32Array(22, 20, 14), PackedInt32Array(22, 14, 12), PackedInt32Array(22, 12, 11), PackedInt32Array(22, 23, 21), PackedInt32Array(19, 14, 18), PackedInt32Array(18, 14, 20), PackedInt32Array(11, 12, 15), PackedInt32Array(26, 25, 24), PackedInt32Array(29, 28, 27), PackedInt32Array(32, 31, 30), PackedInt32Array(24, 29, 27), PackedInt32Array(32, 30, 26), PackedInt32Array(24, 27, 26), PackedInt32Array(26, 27, 33), PackedInt32Array(26, 33, 32), PackedInt32Array(17, 31, 16), PackedInt32Array(16, 31, 32), PackedInt32Array(23, 22, 34), PackedInt32Array(34, 22, 35), PackedInt32Array(38, 37, 36), PackedInt32Array(39, 34, 35), PackedInt32Array(43, 42, 40), PackedInt32Array(40, 42, 41), PackedInt32Array(43, 44, 42), PackedInt32Array(42, 44, 45), PackedInt32Array(45, 44, 38), PackedInt32Array(38, 44, 35), PackedInt32Array(38, 36, 45), PackedInt32Array(44, 39, 35), PackedInt32Array(47, 46, 28), PackedInt32Array(28, 46, 27), PackedInt32Array(50, 49, 48), PackedInt32Array(50, 48, 51), PackedInt32Array(51, 52, 50), PackedInt32Array(50, 52, 54), PackedInt32Array(50, 54, 53), PackedInt32Array(41, 49, 40), PackedInt32Array(40, 49, 50), PackedInt32Array(57, 56, 55), PackedInt32Array(61, 60, 58), PackedInt32Array(58, 60, 59), PackedInt32Array(64, 63, 62), PackedInt32Array(66, 46, 65), PackedInt32Array(65, 46, 47), PackedInt32Array(68, 67, 57), PackedInt32Array(58, 57, 61), PackedInt32Array(61, 57, 67), PackedInt32Array(65, 69, 66), PackedInt32Array(66, 69, 55), PackedInt32Array(55, 69, 57), PackedInt32Array(57, 69, 64), PackedInt32Array(57, 64, 68), PackedInt32Array(68, 64, 62), PackedInt32Array(71, 70, 72), PackedInt32Array(72, 70, 73), PackedInt32Array(75, 74, 76), PackedInt32Array(76, 74, 54), PackedInt32Array(76, 54, 52), PackedInt32Array(76, 52, 77), PackedInt32Array(70, 74, 73), PackedInt32Array(73, 74, 75), PackedInt32Array(78, 37, 79), PackedInt32Array(79, 37, 38), PackedInt32Array(63, 71, 62), PackedInt32Array(62, 71, 72), PackedInt32Array(80, 59, 81), PackedInt32Array(81, 59, 60), PackedInt32Array(83, 82, 84), PackedInt32Array(84, 82, 86), PackedInt32Array(84, 86, 85), PackedInt32Array(90, 89, 87), PackedInt32Array(87, 89, 88), PackedInt32Array(91, 76, 77), PackedInt32Array(93, 92, 94), PackedInt32Array(94, 92, 95), PackedInt32Array(97, 96, 98), PackedInt32Array(98, 96, 100), PackedInt32Array(98, 100, 99), PackedInt32Array(104, 103, 101), PackedInt32Array(101, 103, 102), PackedInt32Array(85, 98, 84), PackedInt32Array(84, 98, 77), PackedInt32Array(77, 98, 91), PackedInt32Array(91, 98, 99), PackedInt32Array(90, 87, 105), PackedInt32Array(105, 96, 90), PackedInt32Array(90, 96, 97), PackedInt32Array(106, 91, 107), PackedInt32Array(107, 91, 99), PackedInt32Array(101, 86, 104), PackedInt32Array(104, 86, 82), PackedInt32Array(95, 92, 107), PackedInt32Array(107, 92, 106), PackedInt32Array(111, 110, 108), PackedInt32Array(108, 110, 109), PackedInt32Array(114, 113, 112), PackedInt32Array(115, 117, 116), PackedInt32Array(112, 117, 114), PackedInt32Array(114, 117, 118), PackedInt32Array(118, 117, 115), PackedInt32Array(114, 93, 113), PackedInt32Array(113, 93, 94), PackedInt32Array(121, 120, 119), PackedInt32Array(121, 119, 122), PackedInt32Array(122, 123, 121), PackedInt32Array(121, 123, 102), PackedInt32Array(121, 102, 103), PackedInt32Array(121, 125, 120), PackedInt32Array(120, 125, 124), PackedInt32Array(108, 109, 126), PackedInt32Array(129, 128, 127), PackedInt32Array(126, 130, 108), PackedInt32Array(108, 130, 131), PackedInt32Array(108, 131, 129), PackedInt32Array(108, 129, 127), PackedInt32Array(134, 133, 132), PackedInt32Array(132, 131, 134), PackedInt32Array(134, 131, 130), PackedInt32Array(116, 135, 115), PackedInt32Array(133, 135, 132), PackedInt32Array(132, 135, 136), PackedInt32Array(136, 135, 116), PackedInt32Array(89, 138, 88), PackedInt32Array(88, 138, 137), PackedInt32Array(127, 128, 139), PackedInt32Array(139, 128, 140), PackedInt32Array(144, 143, 141), PackedInt32Array(141, 143, 142), PackedInt32Array(149, 148, 139), PackedInt32Array(139, 148, 147), PackedInt32Array(139, 147, 146), PackedInt32Array(139, 146, 145), PackedInt32Array(146, 150, 145), PackedInt32Array(139, 140, 149), PackedInt32Array(141, 147, 144), PackedInt32Array(144, 147, 148), PackedInt32Array(142, 143, 151), PackedInt32Array(151, 143, 152), PackedInt32Array(153, 151, 152), PackedInt32Array(156, 155, 154), PackedInt32Array(153, 152, 157), PackedInt32Array(157, 152, 158), PackedInt32Array(158, 152, 154), PackedInt32Array(154, 152, 156), PackedInt32Array(160, 159, 161), PackedInt32Array(161, 159, 162), PackedInt32Array(161, 162, 158), PackedInt32Array(158, 162, 157), PackedInt32Array(163, 155, 164), PackedInt32Array(164, 155, 156), PackedInt32Array(168, 167, 165), PackedInt32Array(165, 167, 166), PackedInt32Array(145, 150, 169), PackedInt32Array(169, 150, 170), PackedInt32Array(173, 172, 171), PackedInt32Array(169, 170, 174), PackedInt32Array(175, 173, 171), PackedInt32Array(174, 175, 169), PackedInt32Array(169, 175, 176), PackedInt32Array(176, 175, 171), PackedInt32Array(179, 178, 177), PackedInt32Array(182, 181, 180), PackedInt32Array(185, 184, 183), PackedInt32Array(188, 187, 186), PackedInt32Array(190, 165, 189), PackedInt32Array(189, 165, 166), PackedInt32Array(180, 186, 182), PackedInt32Array(182, 186, 177), PackedInt32Array(177, 186, 179), PackedInt32Array(179, 186, 185), PackedInt32Array(189, 182, 190), PackedInt32Array(190, 182, 177), PackedInt32Array(185, 183, 179), PackedInt32Array(180, 188, 186), PackedInt32Array(192, 191, 160), PackedInt32Array(160, 191, 159), PackedInt32Array(195, 194, 193), PackedInt32Array(195, 193, 196), PackedInt32Array(196, 193, 197), PackedInt32Array(196, 197, 191), PackedInt32Array(191, 192, 198), PackedInt32Array(191, 198, 196), PackedInt32Array(200, 199, 172), PackedInt32Array(172, 199, 171), PackedInt32Array(194, 184, 193), PackedInt32Array(193, 184, 185), PackedInt32Array(202, 201, 187), PackedInt32Array(187, 201, 186)]
cell_size = 0.01

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_w2h0o"]

[node name="World" type="Node3D"]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.6225254, -0.65885544, -0.42234075, -0.6020483, 0.05839096, 0.7963218, -0.50000006, 0.75, -0.43301266, 0, 9.125943, 0)
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_ta6rp")

[node name="Player" parent="." instance=ExtResource("1_x286i")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.006624222, 1.7583748, -1.1716149)

[node name="MonsterTarget" type="Node3D" parent="Player" node_paths=PackedStringArray("monster")]
script = ExtResource("2_68pxc")
monster = NodePath("../../Monster")

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_dpm3d")
metadata/_edit_lock_ = true

[node name="GridMap" parent="NavigationRegion3D" instance=ExtResource("3_sjasp")]
physics_material = SubResource("PhysicsMaterial_w2h0o")

[node name="ReflectionProbe" type="ReflectionProbe" parent="."]
size = Vector3(151.00757, 20, 92.12598)

[node name="VoxelGI" type="VoxelGI" parent="."]
size = Vector3(128.54858, 20, 96.09473)
data = ExtResource("2_vl24i")

[node name="Monster" parent="." instance=ExtResource("3_dpm3d")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.9183016, 1.8484104, 4.985413)

[node name="SpotLight3D" type="SpotLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.371139e-08, 1, 0, -1, -4.371139e-08, 0, 5.951, -2.575)
light_color = Color(1, 0, 0, 1)
light_energy = 100.0
shadow_enabled = true
spot_range = 20.0
spot_angle = 13.92

[node name="AudioStreamPlayer3D" type="AudioStreamPlayer3D" parent="SpotLight3D"]
stream = ExtResource("6_w2h0o")
volume_db = -22.018
autoplay = true
parameters/looping = false
